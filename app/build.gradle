apply plugin: "com.android.application"
apply plugin: "kotlin-android"
apply plugin: 'kotlin-android-extensions'
apply plugin: 'com.frogermcs.androiddevmetrics'

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'
    }
}

android {
    compileSdkVersion rootProject.compileSdkV
    buildToolsVersion rootProject.buildToolsV

    defaultConfig {
        versionCode 1
        versionName "1.0"
        applicationId "suhockii.rxmusic"
        vectorDrawables.useSupportLibrary true
        minSdkVersion rootProject.minSdkV
        targetSdkVersion rootProject.targetSdkV
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }
    lintOptions {
        abortOnError true
        ignore 'UnusedResources'
    }
    packagingOptions {
        exclude 'META-INF/rxjava.properties'
    }
    dexOptions {
        javaMaxHeapSize "8g"
    }
}

kapt {
    generateStubs = true
}

dependencies {
    kapt rootProject.moxyCompiler
    kapt rootProject.moxyCompiler
    kapt rootProject.daggerCompiler

    compile rootProject.kotlin
    compile rootProject.rxJava
    compile rootProject.rxAndroid
    compile rootProject.rxPermissions
    compile rootProject.rxJavaAdapter
    compile rootProject.retrofit
    compile rootProject.gsonConverter
    compile rootProject.dagger
    compile rootProject.moxy
    compile rootProject.moxyAndroid
    compile rootProject.moxyCompiler
    compile rootProject.moxyAppcompat
    compile rootProject.conductor
    compile rootProject.conductorSupport
    compile rootProject.conductorRxLifecycle

    compile rootProject.glide
    compile rootProject.design
    compile rootProject.support
    compile rootProject.appcompat
    compile rootProject.constraint
    compile rootProject.recyclerview

    debugCompile rootProject.stetho
    debugCompile rootProject.stethoOkhttp
    debugCompile rootProject.leakcanary
}
